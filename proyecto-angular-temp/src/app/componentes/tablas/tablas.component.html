<div class="contenedor">
  <h2>Suscripciones</h2>

  @if (suscripciones.length > 0) {
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Fecha</th>
          <th>Plan</th>
          <th>Objetivos</th>
          <th>Género</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for (s of suscripciones; track s) {
          <tr>
            <td>
              @if (editandoSuscripcion?.id === s.id) {
                <input [(ngModel)]="editandoSuscripcion.nombre" />
              } @else {
                {{ s.nombre }}
              }
            </td>
            <td>
              @if (editandoSuscripcion?.id === s.id) {
                <input [(ngModel)]="editandoSuscripcion.correo" />
              } @else {
                {{ s.correo }}
              }
            </td>
            <td>
              @if (editandoSuscripcion?.id === s.id) {
                <input type="date" [(ngModel)]="editandoSuscripcion.fecha" />
              } @else {
                {{ s.fecha }}
              }
            </td>
            <td>
              @if (editandoSuscripcion?.id === s.id) {
                <select [(ngModel)]="editandoSuscripcion.plan">
                  <option>Básico</option>
                  <option>Intermedio</option>
                  <option>Avanzado</option>
                </select>
              } @else {
                {{ s.plan }}
              }
            </td>
            <td>
              @if (editandoSuscripcion?.id === s.id) {
                <select [(ngModel)]="editandoSuscripcion.genero">
                  <option>Masculino</option>
                  <option>Femenino</option>
                  <option>Otro</option>
                </select>
              } @else {
                {{ s.genero }}
              }
            </td>
            <td>
              @if (editandoSuscripcion?.id === s.id) {
                <button (click)="guardarCambiosSuscripcion()">Guardar</button>
                <button (click)="cancelarEdicionSuscripcion()">Cancelar</button>
              } @else {
                <button (click)="iniciarEdicionSuscripcion(s)">Editar</button>
              }
              <button (click)="eliminarSuscripcion(s.id)">Eliminar</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @else {
    <p class="sin-datos">No hay suscripciones registradas.</p>
  }

  <hr />

  <h2>Quejas</h2>

  @if (quejas.length > 0) {
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Motivo</th>
          <th>Fecha</th>
          <th>Opciones</th>
          <th>Gravedad</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for (q of quejas; track q) {
          <tr>
            <td>
              @if (editandoQueja?.id === q.id) {
                <input [(ngModel)]="editandoQueja.nombre" />
              } @else {
                {{ q.nombre }}
              }
            </td>
            <td>
              @if (editandoQueja?.id === q.id) {
                <input [(ngModel)]="editandoQueja.correo" />
              } @else {
                {{ q.correo }}
              }
            </td>
            <td>
              @if (editandoQueja?.id === q.id) {
                <input [(ngModel)]="editandoQueja.motivo" />
              } @else {
                {{ q.motivo }}
              }
            </td>
            <td>
              @if (editandoQueja?.id === q.id) {
                <input type="date" [(ngModel)]="editandoQueja.fecha" />
              } @else {
                {{ q.fecha }}
              }
            </td>
            <td>
              @if (editandoQueja?.id === q.id) {
                <select [(ngModel)]="editandoQueja.gravedad">
                  <option>Baja</option>
                  <option>Media</option>
                  <option>Alta</option>
                </select>
              } @else {
                {{ q.gravedad }}
              }
            </td>
            <td>
              @if (editandoQueja?.id === q.id) {
                <button (click)="guardarCambiosQueja()">Guardar</button>
                <button (click)="cancelarEdicionQueja()">Cancelar</button>
              } @else {
                <button (click)="iniciarEdicionQueja(q)">Editar</button>
              }
              <button (click)="eliminarQueja(q.id)">Eliminar</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @else {
    <p class="sin-datos">No hay quejas registradas.</p>
  }
</div>
